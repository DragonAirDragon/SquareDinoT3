<p align="center">
  <video src="docs/demo.mp4" width="800" controls>
    Your browser does not support the video tag.
  </video>
</p>

<h1 align="center">SquareDinoT3 ‚Äî Mirror (Unity 2022.3)</h1>
<p align="center">
  <a href="https://unity.com/">Unity 2022.3 LTS</a> ¬∑ 
  <a href="https://mirror-networking.gitbook.io/docs/">Mirror</a> ¬∑ 
  <a href="https://vcontainer.hadashikick.jp/">VContainer</a> ¬∑ 
  Input System ¬∑ TextMeshPro
</p>
<p align="center">
  <a href="#"><img src="https://img.shields.io/badge/Unity-2022.3_LTS-informational" /></a>
  <a href="#"><img src="https://img.shields.io/badge/Mirror-server_authority-success" /></a>
  <a href="#"><img src="https://img.shields.io/badge/DI-VContainer-blue" /></a>
</p>
## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ò—Ç–æ–≥](#–∏—Ç–æ–≥)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- [–¢–ó ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è](#—Ç–∑--—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°—Ü–µ–Ω—ã –∏ –ø—Ä–µ—Ñ–∞–±—ã](#—Å—Ü–µ–Ω—ã-–∏-–ø—Ä–µ—Ñ–∞–±—ã)
- [–ö–æ–Ω—Ñ–∏–≥–∏](#–∫–æ–Ω—Ñ–∏–≥–∏)
- [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

## –ò—Ç–æ–≥
–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω–∞—è —Å—Ü–µ–Ω–∞ –Ω–∞ **Mirror** —Å **server-authority** —Å–∏–º—É–ª—è—Ü–∏–µ–π: –∫–ª–∏–µ–Ω—Ç —à–ª—ë—Ç —Ç–æ–ª—å–∫–æ –≤–≤–æ–¥; —Å–µ—Ä–≤–µ—Ä —Å—á–∏—Ç–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ, —Å–ø–∞–≤–Ω–∏—Ç –æ–±—ä–µ–∫—Ç—ã –∏ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ **Commands / ClientRpc / SyncVar**. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã: –Ω–∏–∫–Ω–µ–π–º—ã, —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º, —Å–ø–∞–≤–Ω —Å–µ—Ç–µ–≤–æ–≥–æ –∫—É–±–∞, Humanoid-–∞–Ω–∏–º–∞—Ü–∏–∏. ‚ú®

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. **–ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** –∏ –æ—Ç–∫—Ä–æ–π –≤ **Unity 2022.3 LTS**. üß©  
2. –û—Ç–∫—Ä–æ–π —Å—Ü–µ–Ω—É **`Assets/Scenes/MainScene.unity`**. üó∫Ô∏è  
3. –í ParrelSync –∑–∞–ø—É—Å—Ç–∏ –æ–¥–∏–Ω –∏–Ω—Å—Ç–∞–Ω—Å –∫–∞–∫ **Host**, –∫–ª–æ–Ω ‚Äî –∫–∞–∫ **Client** (–∫–Ω–æ–ø–∫–∏ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é). üß™  
4. –í–≤–µ–¥–∏ –Ω–∏–∫ (–∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π) ‚Üí –∏–≥—Ä–∞–π. üïπÔ∏è  

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
| –î–µ–π—Å—Ç–≤–∏–µ üéÆ                                          | –ö–ª–∞–≤–∏—à–∞ ‚å®Ô∏è   |
|-----------------------------------------------------|--------------|
| –•–æ–¥—å–±–∞ / –ë–µ–≥                                        | WASD / Shift |
| –ü—Ä—ã–∂–æ–∫                                              | Space        |
| –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ—Ç–µ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü—Ä–∏–≤–µ—Ç –æ—Ç &lt;nick&gt;"| **T**        |
| –ó–∞—Å–ø–∞–≤–Ω–∏—Ç—å —Å–µ—Ç–µ–≤–æ–π –∫—É–± –ø–µ—Ä–µ–¥ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º             | **F**        |

## –¢–ó ‚Üí –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
**–í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.**

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó                                                | –°—Ç–∞—Ç—É—Å | –ì–¥–µ –≤ –∫–æ–¥–µ                                                                                                                                                          |
| ------------------------------------------------------------ | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| –ù–∏–∫ –∏–≥—Ä–æ–∫–∞ –≤–∏–¥–µ–Ω –≤—Å–µ–º                                        | ‚úÖ      | `Assets/Scripts/Network/PlayerNicknameSync.cs` (SyncVar `playerName`, hook `OnNameChanged`, `[Command]` `CmdSetName`)                                               |
| –£–ø—Ä–∞–≤–ª—è—é —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º                             | ‚úÖ      | `Assets/Scripts/Network/LocalInputSender.cs`, `Assets/Scripts/Network/NetworkMessage.cs`, `Assets/Scripts/Network/NetworkCubeSpawner.cs` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∏ `isLocalPlayer` |
| –°–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º (–ø–æ T)                               | ‚úÖ      | `Assets/Scripts/Network/NetworkMessage.cs` (`CmdHello` ‚Üí `RpcHello`)                                                                                                |
| –ó–∞–º–µ–Ω–∞ –∫–∞–ø—Å—É–ª—ã –Ω–∞ Humanoid c –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ Idle/Run/Sprint/Jump | ‚úÖ      | `Assets/Scripts/Network/ServerAnimatorDriver.cs` + –≤—ã–∑–æ–≤—ã –∏–∑ `Assets/Scripts/Network/ServerCharacterMotor.cs`                                                       |
| –°–µ—Ç–µ–≤–æ–π —Å–ø–∞–≤–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –∫—É–±–∞ (–ø–æ F)                        | ‚úÖ      | `Assets/Scripts/Network/NetworkCubeSpawner.cs` (`CmdSpawnCube` + `NetworkServer.Spawn`)                                                                             |

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
**–ü—Ä–∏–Ω—Ü–∏–ø—ã**
- **Server-authority**: –∫–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç –≤–≤–æ–¥ (`CmdSendInput`), **—Å–µ—Ä–≤–µ—Ä** –æ–±–Ω–æ–≤–ª—è–µ—Ç `CharacterController`, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—é, –ø—Ä—ã–∂–æ–∫; —Ä–∞—Å—Å—ã–ª–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Äî —á–µ—Ä–µ–∑ `ClientRpc`/`SyncVar`. üö¶  
- **DI (VContainer)**: –∫–æ–Ω—Ñ–∏–≥–∏/—Å–µ—Ä–≤–∏—Å—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ `AppLifetimeScope`; —Å–µ—Ç–µ–≤–æ–π —Å–ø–∞–≤–Ω –∏ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º ‚Äî —á–µ—Ä–µ–∑ `DiNetworkManager` + `IObjectResolver`. üß∞  

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
Assets/
  Scenes/
    MainScene.unity
  Prefabs/
    DI/AppScope.prefab
    GamePlay/PlayerPrefab.prefab
    GamePlay/CubePhysics.prefab
  Scripts/
    ConfigAssets/       # MovementConfig, NetworkConfig, InputConfig
    DI/                 # AppLifetimeScope, DiNetworkManager
    Services/           # ISessionService, IPlayerNameService
    Network/            # LocalInputSender, ServerCharacterMotor, ServerAnimatorDriver
                        # PlayerNicknameSync, NetworkMessage, NetworkCubeSpawner
    Views/              # MainMenuView, MainMenuPresenter
```

## –°—Ü–µ–Ω—ã –∏ –ø—Ä–µ—Ñ–∞–±—ã
- **`MainScene.unity`** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ü–µ–Ω–∞.
- **`PlayerPrefab.prefab`** ‚Äî —Å–µ—Ç–µ–≤–æ–π –∏–≥—Ä–æ–∫ (Starter Assets + —Å–µ—Ç–µ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã).
- **`CubePhysics.prefab`** ‚Äî  `Rigidbody`-–∫—É–±.
- **`AppScope.prefab`** ‚Äî –∫–æ—Ä–Ω–µ–≤–æ–π `LifetimeScope` (DI).

## –ö–æ–Ω—Ñ–∏–≥–∏
- `Scripts/ConfigAssets/MovementConfig.asset` ‚Äî —Å–∫–æ—Ä–æ—Å—Ç–∏, –ø—Ä—ã–∂–æ–∫, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
- `Scripts/ConfigAssets/NetworkConfig.asset` ‚Äî —á–∞—Å—Ç–æ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–≤–æ–¥–∞
- `Scripts/ConfigAssets/InputConfig.asset` ‚Äî —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –≤–≤–æ–¥–∞

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **Mirror** ‚Äî —Å–µ—Ç–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (`Commands`, `ClientRpc`, `SyncVar`).
- **VContainer** ‚Äî DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è MonoBehaviour/–ø—Ä–µ—Ñ–∞–±–æ–≤.
- **ParrelSync (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)** ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.

